# Script de Usuarios de Prueba - Walkthrough

## Resumen

Se ha creado exitosamente un script de seeding para generar usuarios de prueba en el sistema de gestiÃ³n de restaurante. El script permite crear automÃ¡ticamente usuarios con diferentes roles (admin, cajero, mesero) con un solo comando.

## Archivos Creados

### 1. Script de Seeding
**Archivo:** [seeds/users.js](file:///c:/Users/EH-PC/Desktop/proyectos/restaurante_react_nodejs/backend/seeds/users.js)

El script incluye:
- âœ… ConexiÃ³n automÃ¡tica a la base de datos
- âœ… SincronizaciÃ³n de modelos
- âœ… VerificaciÃ³n de usuarios existentes
- âœ… CreaciÃ³n de 3 usuarios de prueba con diferentes roles
- âœ… Manejo de errores (usuarios duplicados, errores de conexiÃ³n)
- âœ… Mensajes informativos con emojis para mejor UX
- âœ… Cierre automÃ¡tico de conexiÃ³n

### 2. Comando NPM
**Archivo:** [package.json](file:///c:/Users/EH-PC/Desktop/proyectos/restaurante_react_nodejs/backend/package.json)

Se agregÃ³ el comando:
```json
"seed:users": "node seeds/users.js"
```

### 3. DocumentaciÃ³n
**Archivo:** [README.md](file:///c:/Users/EH-PC/Desktop/proyectos/restaurante_react_nodejs/backend/README.md)

Se actualizÃ³ la secciÃ³n "Usuarios de Prueba" con:
- Instrucciones claras de uso
- Tabla con credenciales de acceso
- Nota sobre verificaciÃ³n de usuarios existentes

## Usuarios Creados

El script crea los siguientes usuarios:

| ID | Rol     | Nombre             | Usuario | ContraseÃ±a  | Estado |
|----|---------|--------------------|---------| ------------|--------|
| 1  | Admin   | Administrador      | admin   | admin123    | Activo |
| 2  | Cajero  | Cajero Principal   | cajero  | cajero123   | Activo |
| 3  | Mesero  | Mesero 1           | mesero  | mesero123   | Activo |

## Uso del Script

Para ejecutar el script:

```bash
cd backend
npm run seed:users
```

## VerificaciÃ³n

âœ… **Script ejecutado exitosamente** con la siguiente salida:

```
ğŸ”„ Conectando a la base de datos...
âœ… ConexiÃ³n establecida correctamente
âœ… Modelos sincronizados

ğŸŒ± Creando usuarios de prueba...

âœ… Usuario creado: { id: 1, nombre: 'Administrador', usuario: 'admin', rol: 'admin' }
âœ… Usuario creado: { id: 2, nombre: 'Cajero Principal', usuario: 'cajero', rol: 'cajero' }
âœ… Usuario creado: { id: 3, nombre: 'Mesero 1', usuario: 'mesero', rol: 'mesero' }

ğŸ‰ Â¡Usuarios de prueba creados exitosamente!

ğŸ“‹ Credenciales de acceso:
   Admin    - Usuario: admin   | Password: admin123
   Cajero   - Usuario: cajero  | Password: cajero123
   Mesero   - Usuario: mesero  | Password: mesero123

ğŸ”Œ ConexiÃ³n cerrada
```

## CaracterÃ­sticas Destacadas

### ğŸ”’ Seguridad
- Las contraseÃ±as se hashean automÃ¡ticamente usando bcrypt (configurado en el modelo User)
- Los hooks de Sequelize aseguran que las contraseÃ±as nunca se almacenen en texto plano

### ğŸ›¡ï¸ Manejo de Errores
- Detecta usuarios duplicados (`SequelizeUniqueConstraintError`)
- Verifica si ya existen usuarios antes de crear nuevos
- Proporciona mensajes de error claros y especÃ­ficos

### ğŸ“Š Feedback Visual
- Usa emojis para mejor legibilidad
- Muestra progreso paso a paso
- Tabla final con credenciales para fÃ¡cil referencia

## PrÃ³ximos Pasos Sugeridos

Para completar el setup inicial del sistema, podrÃ­as considerar:

1. Crear script de seeding para Ã¡reas y mesas
2. Crear script de seeding para productos de ejemplo
3. Agregar comando para limpiar/resetear la base de datos
4. Crear script maestro que ejecute todos los seeders

## Notas TÃ©cnicas

- El script usa ES modules (`import/export`)
- Compatible con la configuraciÃ³n actual del proyecto (`"type": "module"`)
- Cierra la conexiÃ³n automÃ¡ticamente al finalizar
- Retorna cÃ³digos de salida apropiados (0 = Ã©xito, 1 = error)
